<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Font Awesome CSS -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css"
          integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="assets/css/bootstrap/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/footer.css">
    <link rel="stylesheet" href="assets/css/mnd/materials.css">
    <link rel="stylesheet" href="assets/css/mnd/common.css">
    <link rel="stylesheet" href="assets/css/mnd/tables.css">

    <!-- Custom styles for this template-->
    <link href="css/sb-admin.css" rel="stylesheet">
    <link href="css/tb-admin.css" rel="stylesheet">
    <!-- Custom fonts for this template-->
    <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">

    <link rel="icon" href="images/logo.png" type="image/x-icon">

    <title>Home-Admin | TDA Corporation</title>

</head>

<body>
<nav class="navbar navbar-expand navbar-dark  static-top" id="header-home">
    <button class="btn btn-link btn-sm text-white order-1 order-sm-0" id="sidebarToggle" href="#">
        <i class="fas fa-bars"></i>
    </button>

    <!-- Navbar Search -->
    <form class="d-none d-md-inline-block form-inline ml-auto mr-0 mr-md-3 my-2 my-md-0">
        <div class="input-group">
        </div>
    </form>

    <!-- Navbar -->
    <ul class="navbar-nav ml-auto ml-md-0">
        <li class="nav-item dropdown no-arrow">
            <a class="nav-link dropdown-toggle" href="login.html">
                <img src="images/avatar.jpg" class="mr-3">
            </a>
        </li>
    </ul>
</nav>


<div class="content-body">
    <div class="container-fluid">
        <!-- Page Title -->
        <div class="row title">
            <div class="col-12">
            </div>
        </div>

        <div class="row mt-3 mb-3">
            <div class="col-12 btn-add" id="btn-add">
                <form>
                    <input id="file-input" type="file"/>
                </form>
                <button type="button" class="btn btn-success collapsed" id="false-input">Add data</button>
            </div>
        </div>

        <div class="row mt-3 mb-3">
            <div class="col-sm-2">
                <form th:action="@{/home-admin}" action="#">
                    <select name="month" class="form-control" data-role="select-dropdown" id="month"
                            onchange="this.form.submit()">
                        <option th:each="month,i : ${getAllMonth}" th:value="${i.count}" th:text="${month}"></option>
                    </select>
                </form>
            </div>
        </div>
        <table id="custom-table" class="table table-bordered w-100" cellspacing="0">
            <thead>
            <tr>
                <th>No</th>
                <th>EmployeeCode</th>
                <th>Name</th>
                <th>Department</th>
                <th>Position</th>
                <th>Date</th>
                <th>Day</th>
                <th>In</th>
                <th>Out</th>
                <th>Hour</th>
                <th>Note</th>
                <th>Email</th>
                <th class="w-action-3">Function</th>
            </tr>
            </thead>

            <tbody>
            <th:block th:each="accountShow,i : ${listAccountShow}">
                <tr>
                    <td th:text="${i.count}"></td>
                    <td th:text="${accountShow.username}"></td>
                    <td th:text="${accountShow.name}"></td>
                    <td th:text="${accountShow.department}"></td>
                    <td th:text="${accountShow.position}"></td>
                    <td th:text="${accountShow.workDate}"></td>

                    <td th:switch="${accountShow.getDay()}">
                        <h7 th:case="2">Monday</h7>
                        <h7 th:case="3">Tuesday</h7>
                        <h7 th:case="4">Wednesday</h7>
                        <h7 th:case="5">Thursday</h7>
                        <h7 th:case="6">Friday</h7>
                        <h7 th:case="7">Saturday</h7>
                        <h7 th:case="1">Sunday</h7>
                    </td>

                    <td th:text="${accountShow.startTime}"></td>
                    <td th:text="${accountShow.endTime}"></td>
                    <td th:text="${accountShow.getHour()}"></td>
                    <td th:text="${accountShow.note}"></td>

                    <td th:switch="${accountShow.sendEmail}">
                        <h7 th:case="0"></h7>
                        <h7 th:case="1">Chưa mail</h7>
                        <h7 th:case="2">Đã mail</h7>
                    </td>
                    <td>
                        <a href="#" class="edit mr-1" data-target="#update"
                           data-toggle="modal" th:attr="data-target='#update'+${accountShow.id}"
                           title="Update">
                            <i class="fas fa-pen fa-fw"></i></a>
                    </td>
                </tr>
                <!--  Update-->
                <div class="modal fade detail" tabindex="-1" role="dialog" th:id="update+${accountShow.id}"
                     aria-hidden="true">
                    <div class="modal-dialog  modal-lg" role="document">
                        <div class="modal-content">
                            <div class="card">
                                <div class="card-body">
                                    <h5 class="mb-3">Update</h5>
                                    <form action="#" method="post" th:action="@{/update/{id}(id=${accountShow.id})}"
                                          enctype="multipart/form-data" acceptcharset="UTF-8">
                                        <div class="row">
                                            <div class="col-6 pr-4">
                                                <div class="form-group row">
                                                    <div class="col-sm-12">
                                                        <label>Employee Code</label>
                                                        <span class="form-control"
                                                              th:text="${accountShow.username}"> </span>
                                                    </div>
                                                </div>
                                                <div class="form-group row">
                                                    <div class="col-sm-12">
                                                        <label>Name </label>
                                                        <span class="form-control"
                                                              th:text="${accountShow.name}"></span>
                                                    </div>
                                                </div>
                                                <div class="form-group row">
                                                    <div class="col-sm-12">
                                                        <label>Date</label>
                                                        <span class="form-control"
                                                              th:text="${accountShow.workDate}"> </span>

                                                    </div>
                                                </div>
                                                <div class="form-group row">
                                                    <div class="col-sm-12"><label>Check-in</label>
                                                    </div>
                                                    <input class="form-control" id="startTime"
                                                           type="time"
                                                           th:value="${accountShow.startTime}"
                                                           name="startTime"/>
                                                </div>

                                            </div>
                                            <div class="col-6 pr-4">
                                                <div class="form-group row">
                                                    <div class="col-sm-12">
                                                        <label>Department </label>
                                                        <span class="form-control"
                                                              th:text="${accountShow.department}"> </span>
                                                    </div>
                                                </div>
                                                <div class="form-group row">
                                                    <div class="col-sm-12">
                                                        <label>Position </label>
                                                        <span class="form-control"
                                                              th:text="${accountShow.position}"> </span>
                                                    </div>
                                                </div>
                                                <div class="form-group row">
                                                    <div class="col-sm-12"><label>Check-out</label>
                                                    </div>
                                                    <input type='time'
                                                           class="form-control" id="endTime" name="endTime"
                                                           th:value="${accountShow.endTime}"/>
                                                </div>
                                                <div class="form-group row">
                                                    <div class="col-sm-12">
                                                        <label>Note</label>
                                                        <input type='text' id="note"
                                                               class="form-control" name="note"
                                                               th:value="${accountShow.note}"/>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row">
                                            <div class="col-12">
                                                <div class="form-group row">
                                                    <div class="col-sm-12">
                                                        <label>Send Mail</label>
                                                        <th:block th:switch="${accountShow.sendEmail}">
                                                            <div th:case="0">
                                                                <div style="color:black;" class="sendMail">
                                                                    <input type="radio"
                                                                           name="sendMail"
                                                                           value="0"
                                                                           th:checked="true"
                                                                           style="margin-left: 5px;"/>
                                                                    <label style="margin-left: 5px;margin-right: 20px;">Working</label>
                                                                    <input type="radio"
                                                                           name="sendMail"
                                                                           value="1"
                                                                           style="margin-left: 5px;"/>
                                                                    <label style="margin-left: 5px;margin-right: 20px;">Chưa
                                                                        Mail</label>
                                                                    <input type="radio"
                                                                           name="sendMail"
                                                                           value="2"
                                                                           style="margin-left: 5px;"/>
                                                                    <label>Đã Mail</label></div>
                                                            </div>
                                                            <div th:case="1">
                                                                <div style="color:black;" class="sendMail">
                                                                    <input type="radio"
                                                                           name="sendMail"
                                                                           value="0"
                                                                           style="margin-left: 5px;"/><label
                                                                        style="margin-left: 5px;margin-right: 20px;">Working</label>
                                                                    <input
                                                                            type="radio"
                                                                            name="sendMail"
                                                                            value="1" th:checked="true"
                                                                            style="margin-left: 5px;"/><label
                                                                        style="margin-left: 5px;margin-right: 20px;">Chưa
                                                                    Mail</label>
                                                                    <input
                                                                            type="radio"
                                                                            name="sendMail"
                                                                            value="2"
                                                                            style="margin-left: 5px;"/><label>Đã
                                                                    Mail</label></div>
                                                            </div>
                                                            <div th:case="2">
                                                                <div style="color:black;" class="sendMail">
                                                                    <input type="radio"
                                                                           name="sendMail"
                                                                           value="0"
                                                                           style="margin-left: 5px;"/><label
                                                                        style="margin-left: 5px;margin-right: 20px;">Working</label>
                                                                    <input
                                                                            type="radio"
                                                                            name="sendMail"
                                                                            value="1"
                                                                            style="margin-left: 5px;"/><label
                                                                        style="margin-left: 5px;margin-right: 20px;">Chưa
                                                                    Mail</label>
                                                                    <input type="radio"
                                                                           name="sendMail" th:checked="true"
                                                                           value="2"
                                                                           style="margin-left: 5px;"/><label>Đã
                                                                    Mail</label>
                                                                </div>
                                                            </div>
                                                        </th:block>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="submit" class="btn btn-md btn-info mr-2"><i
                                                    class="fas fa-check fa-fw mr-1"></i>Update
                                            </button>
                                            <button type="button" class="btn btn-md btn-white" data-dismiss="modal">
                                                Close
                                            </button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </th:block>
            </tbody>
        </table>
        <br/><br/><br/>
        <div class="container-fluid">
            <div class="row">
                <h5>Information in current month:
                </h5>
            </div>
            <br/>
            <div class="row">
                <h7>Summarize the working hours of all employees in the month:</h7>&ensp;
                <h7 th:text="${totalWorkInMonth}"></h7>&ensp;
                <h7>hours</h7>
            </div>
            <br/>
            <div class="row">
                <h7>Summarize the number of non-attendance days at the company of all employees in the month:</h7>&ensp;
                <h7 th:text="${totalNotWorkInOffice}"></h7>&ensp;
                <h7>day(s)</h7>
            </div>
            <br/>
            <div class="row">
                <h7>Statistics of less than 8 hours workdays per employeea:</h7>&ensp;
                <div th:if="${listDayWorkNotFull.isEmpty()}">
                    <h7>0 day</h7>
                </div>
                <div th:if="${listDayWorkNotFull.length()>0}">
                    <h7 th:text="${listDayWorkNotFull}"></h7>
                </div>
            </div>
        </div>
    </div>
</div>

<footer class="footer">
    <p>
        © 2020 TDA Corporation
    </p>
</footer>

<!-- End wrapper -->
<!-- Bootstrap core JavaScript-->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
<script src="assets/js/bootstrap/popper.min.js"></script>
<script src="assets/js/bootstrap/bootstrap.min.js"></script>
<!-- Custom scripts for all pages-->
<script src="assets/js/mnd/mnd.min.js"></script>
<!-- Data Tables -->
<script src="assets/js/datatables/jquery.dataTables.min.js"></script>
<script src="assets/js/datatables/datatables.vietnamese.js"></script>
<script src="assets/js/datatables/dataTables.bootstrap4.min.js"></script>
<script src="js/table.js"></script>
</body>
</html>