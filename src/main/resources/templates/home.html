<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Font Awesome CSS -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css"
          integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" th:href="@{/assets/css/bootstrap/bootstrap.min.css}">

    <!-- Custom CSS -->
    <link rel="stylesheet" th:href="@{/css/footer.css}">
    <link rel="stylesheet" th:href="@{/assets/css/mnd/materials.css}">
    <link rel="stylesheet" th:href="@{/assets/css/mnd/common.css}">
    <link rel="stylesheet" th:href="@{/assets/css/mnd/tables.css}">

    <!-- Custom styles for this template-->
    <link th:href="@{/css/sb-admin.css}" rel="stylesheet">
    <link th:href="@{/css/tb-admin.css}" rel="stylesheet">
    <!-- Custom fonts for this template-->
    <link th:href="@{/vendor/fontawesome-free/css/all.min.css}" rel="stylesheet" type="text/css">

    <link rel="icon" th:href="@{/images/logo.png}" type="image/x-icon">

    <title>Home | TDA Corporation</title>

</head>

<body>
<nav class="navbar navbar-expand navbar-dark  static-top" id="header-home">
    <button class="btn btn-link btn-sm text-white order-1 order-sm-0" id="sidebarToggle" href="#">
        <i class="fas fa-bars"></i>
    </button>

    <form class="d-none d-md-inline-block form-inline ml-auto mr-0 mr-md-3 my-2 my-md-0">
        <div class="input-group">
        </div>
    </form>

    <!-- Navbar -->
    <ul class="navbar-nav ml-auto ml-md-0">
        <li class="nav-item dropdown no-arrow">
            <a class="nav-link dropdown-toggle" th:href="@{/logout}">
                <img th:src="@{/images/avatar.jpg}" class="mr-3">
            </a>
        </li>
    </ul>
</nav>

<div class="content-body">
    <div class="container-fluid">
        <!-- Page Title -->
        <div class="row title">
            <div class="col-12">
                <p id="title-content">
                    <strong> Timekeeping</strong>
                </p>
            </div>
        </div>
        <div class="row mt-3 mb-3">
            <form th:action="@{/home-user}">
                <div class="row" id="combobox">
                    <div class="col-md-7">
                        <h5>Month</h5>
                        <select name="month" class="form-control" data-role="select-dropdown" id="month"
                                onchange="this.form.submit()">
                            <option th:each="month,i : ${getAllMonth}" th:value="${i.count}"
                                    th:text="${month}"></option>
                        </select>
                    </div>
                    <div class="col-md-5">
                        <h5>Year</h5>
                        <select name="year" class="form-control" data-role="select-dropdown" id="year"
                                onchange="this.form.submit()">
                            <option th:each="year : ${getAllYear}" th:value="${year}"
                                    th:text="${year}"></option>
                        </select>
                    </div>
                </div>
            </form>
        </div>
        <table id="custom-table" class="table table-bordered w-100" cellspacing="0"
               width="100%">
            <thead>
            <tr>
                <th>No</th>
                <th>Username</th>
                <th>Name</th>
                <th>Department</th>
                <th>Position</th>
                <th>Date</th>
                <th>Day</th>
                <th>In</th>
                <th>Out</th>
                <th>Hour</th>
                <th>Note</th>
                <th>Email</th>
            </tr>
            </thead>
            <tbody>
            <th:block th:each="accountShow,i : ${listAccountShow}">
                <tr>
                    <td th:text="${i.count}"></td>
                    <td th:text="${accountShow.username}"></td>
                    <td th:text="${accountShow.name}"></td>
                    <td th:text="${accountShow.department}"></td>
                    <td th:text="${accountShow.position}"></td>
                    <td th:text="${accountShow.workDate}"></td>

                    <td th:switch="${accountShow.getDay()}">
                        <h7 th:case="2">Monday</h7>
                        <h7 th:case="3">Tuesday</h7>
                        <h7 th:case="4">Wednesday</h7>
                        <h7 th:case="5">Thursday</h7>
                        <h7 th:case="6">Friday</h7>
                        <h7 th:case="7">Saturday</h7>
                        <h7 th:case="1">Sunday</h7>
                    </td>

                    <td th:text="${accountShow.getStartTime()}"></td>
                    <td th:text="${accountShow.getEndTime()}"></td>
                    <td th:text="${accountShow.getHour()}"></td>
                    <td th:text="${accountShow.note}"></td>

                    <td th:switch="${accountShow.sendEmail}">
                        <h7 th:case="0"></h7>
                        <h7 th:case="1">Chưa mail</h7>
                        <h7 th:case="2">Đã mail</h7>
                    </td>
                </tr>
            </th:block>
            </tbody>
        </table>

        <div class="container-fluid">
            <br/>
            <div class="row">
                <h5>Information in current month:
                </h5>
            </div>
            <br/>
            <div class="row">
                <h7>Summarize the working hours of 1 employee in the month:</h7>&ensp;
                <h7 th:text="${totalWorkInMonth}"></h7>&ensp;
                <h7>hours</h7>
            </div>
            <br/>
            <div class="row">
                <h7>Summarize the number of non-attendance days at the company of 1 employee in the month:</h7>&ensp;
                <h7 th:text="${totalNotWorkInOffice}"></h7>&ensp;
                <h7>day(s)</h7>
            </div>
            <br/>
            <div class="row">
                <h7>Statistics of less than 8 hours workdays per employee:</h7>&ensp;
                <div th:if="${listDayWorkNotFull.isEmpty()}">
                    <h7>0 day</h7>
                </div>
                <div th:if="${listDayWorkNotFull.length()>0}">
                    <h7 th:text="${listDayWorkNotFull}"></h7>
                </div>
            </div>
        </div>
    </div>
</div>
</div>

<footer class="footer">
    <p>
        © 2020 TDA Corporation
    </p>
</footer>

<!-- End wrapper -->
<!-- Bootstrap core JavaScript-->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
<script th:src="@{/assets/js/bootstrap/popper.min.js}"></script>
<script th:src="@{/assets/js/bootstrap/bootstrap.min.js}"></script>
<!-- Custom scripts for all pages-->
<script th:src="@{/assets/js/mnd/mnd.min.js}"></script>
<!-- Data Tables -->
<script th:src="@{/assets/js/datatables/jquery.dataTables.min.js}"></script>
<script th:src="@{/assets/js/datatables/datatables.vietnamese.js}"></script>
<script th:src="@{/assets/js/datatables/dataTables.bootstrap4.min.js}"></script>
<script th:src="@{/js/table.js}"></script>
</body>

</html>